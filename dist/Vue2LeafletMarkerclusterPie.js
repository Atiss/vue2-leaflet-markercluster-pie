(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("babel-runtime/core-js/object/assign"),require("d3"),require("leaflet"),require("leaflet.markercluster"),require("vue2-leaflet")):"function"==typeof define&&define.amd?define(["babel-runtime/core-js/object/assign","d3","leaflet","leaflet.markercluster","vue2-leaflet"],t):"object"==typeof exports?exports.Vue2LeafletMarkerclusterPie=t(require("babel-runtime/core-js/object/assign"),require("d3"),require("leaflet"),require("leaflet.markercluster"),require("vue2-leaflet")):e.Vue2LeafletMarkerclusterPie=t(e["babel-runtime/core-js/object/assign"],e.d3,e.leaflet,e["leaflet.markercluster"],e["vue2-leaflet"])})(this,function(e,t,r,n,a){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=10)}([function(e,t,r){r(2);var n=r(3)(r(1),r(4),null,null);e.exports=n.exports},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return void 0!==window.XMLSerializer?(new window.XMLSerializer).serializeToString(e):void 0!==e.xml?e.xml:""}function u(e,t,r,n,u,i,s,o){var c=e.getAllChildMarkers(),p=c.length,d=t-2-(p<10?12:p<100?8:p<1e3?4:0),m=2*(d+1),b=f.nest().key(r).entries(c,f.map),h=function(e){if(!e.data||!e.valueFunc)return"";var r=e.data,n=e.valueFunc,u=e.outerRadius?e.outerRadius:28,i=e.innerRadius?e.innerRadius:u-10,s=e.strokeWidth?e.strokeWidth:1,o=e.pathClassFunc?e.pathClassFunc:function(){return""},l=e.pathTitleFunc?e.pathTitleFunc:function(){return""},c=e.pathStyleFunc?e.pathStyleFunc:function(){return""},p=e.pieClass?e.pieClass:"marker-cluster-pie",d=e.pieLabel?e.pieLabel:f.sum(r,n),m=e.pieLabelClass?e.pieLabelClass:"marker-cluster-pie-label",b=u+s,h=2*b,y=h,v=f.pie(),x=f.arc().innerRadius(i).outerRadius(u),F=document.createElementNS(f.namespaces.svg,"svg"),j=f.select(F).data([r]).attr("class",p).attr("style","background-color: #FFF; border-radius: "+t+"px !important;").attr("width",h).attr("height",y);return j.selectAll("g.arc").data(v.value(n)).enter().append("svg:g").attr("class","arc").attr("transform","translate("+b+","+b+")").append("svg:path").attr("class",o).attr("style",c).attr("stroke-width",s).attr("d",x).append("svg:title").text(l),j.append("text").attr("x",b).attr("y",b).attr("class",m).attr("style","\n          font-size: "+(t/2.5>>0)+"px;\n          font-weight: bold; \n          font-family: sans-serif;\n        ").attr("text-anchor","middle").attr("dy",".3em").text(d),a(F)}({data:b,valueFunc:function(e){return e.values.length},strokeWidth:1,outerRadius:d,innerRadius:d/1.7>>0,pieClass:"cluster-pie",pieLabel:p,pieLabelClass:s,pathClassFunc:n,pathTitleFunc:u,pathStyleFunc:i});return new l.default.DivIcon({html:h,className:o,iconSize:new l.default.Point(m,m)})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(5),s=n(i),o=r(7),l=n(o);r(8);var c=r(9),f=r(6),p={keyFunc:{type:Function,custom:!0,default:function(e){return 0}},classFunc:{type:Function,custom:!0,default:function(e){return""}},titleFunc:{type:Function,custom:!0,default:function(e){return""}},styleFunc:{type:Function,custom:!0,default:function(e){return""}},rmax:{type:Number,custom:!0,default:35},options:{type:Object,default:function(e){return{}}}};t.default={props:p,data:function(){return{ready:!1}},mounted:function(){this.mapObject=l.default.markerClusterGroup((0,s.default)({},this.options,{iconCreateFunction:this.getClusterIcon()})),l.default.DomEvent.on(this.mapObject,this.$listeners),(0,c.propsBinder)(this,this.mapObject,p),this.ready=!0,this.parentContainer=(0,c.findRealParent)(this.$parent),this.parentContainer.addLayer(this)},beforeDestroy:function(){this.parentContainer.removeLayer(this)},methods:{getClusterIcon:function(){var e=this;return function(t){return u(t,e.rmax,e.keyFunc,e.classFunc,e.titleFunc,e.styleFunc,"marker-cluster-pie-label","marker-cluster-pie-icon")}},addLayer:function(e,t){t||this.mapObject.addLayer(e.mapObject)},removeLayer:function(e,t){t||this.mapObject.removeLayer(e.mapObject)}}}},function(e,t){},function(e,t){e.exports=function(e,t,r,n){var a,u=e=e||{},i=typeof e.default;"object"!==i&&"function"!==i||(a=e,u=e.default);var s="function"==typeof u?u.options:u;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),r&&(s._scopeId=r),n){var o=s.computed||(s.computed={});Object.keys(n).forEach(function(e){var t=n[e];o[e]=function(){return t}})}return{esModule:a,exports:u,options:s}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticStyle:{display:"none"}},[e.ready?e._t("default"):e._e()],2)},staticRenderFns:[]}},function(e,t){e.exports=require("babel-runtime/core-js/object/assign")},function(e,t){e.exports=require("d3")},function(e,t){e.exports=require("leaflet")},function(e,t){e.exports=require("leaflet.markercluster")},function(e,t){e.exports=require("vue2-leaflet")},function(e,t,r){e.exports=r(0)}])});
//# sourceMappingURL=Vue2LeafletMarkerclusterPie.js.map